<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('./partials/head') %>
    <link rel="stylesheet" href="/stylesheets/general.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <title>Productos</title>
    <%# CSS de DataTable %>
    <link
      rel="stylesheet"
      href="https://cdn.datatables.net/1.12.1/css/dataTables.bootstrap5.min.css"
    />
    <link rel="stylesheet" href="/stylesheets/products.css" />
  </head>
  <body>
    <%- include('./partials/header') %>
    <main class="container mt-3 mb-2">
      <table
        id="products"
        class="table table-striped text-center mt-6 mh-100 align-middle"
      >
        <thead>
          <tr>
            <th>Portada</th>
            <th>C칩digo</th>
            <th>Nombre</th>
            <th>P치ginas</th>
            <th>Descripci칩n</th>
            <th>Acci칩n</th>
          </tr>
        </thead>
        <tbody>
          <% products.forEach(product => { %>
          <tr>
            <td>
              <a href="/products/detail/<%=product.id%>"
                ><img
                  class="products-track-slide-image"
                  src="/images/products/<%=product.imagenes[0].nombreArchivo%>"
                  alt=""
              /></a>
            </td>
            <td><%=product.codProducto%></td>
            <td><%=product.nombre%></td>
            <td><%=product.paginas%></td>
            <td><%=product.descripcion%></td>
            <td>
              <a href="/products/detail/<%=product.id%>"
                ><button class="btn btn-success">Agregar</button>
              </a>
            </td>
          </tr>
          <% }) %>
        </tbody>
      </table>
    </main>
    <%- include('./partials/footer') %>
    <%# Scripts para Datatable %>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap5.min.js"></script>
    <%# Scripts funcional Datatable %>
    <script>
      $(document).ready(function () {
        $("#products").DataTable({
          responsive: true,
          language: {
            decimal: ",",
            thousands: ".",
            lengthMenu:     "Mostrar _MENU_ registros",
            info:           "Mostrando _START_ a _END_ sobre _TOTAL_ registros",
            search: "Buscar:",
            zeroRecords: "No matching records found",
            paginate: {
              first: "Primero",
              last: "Ultimo",
              next: "Siguiente",
              previous: "Anterior",
            },
          },
        });
      });
    </script>
  </body>
</html>
